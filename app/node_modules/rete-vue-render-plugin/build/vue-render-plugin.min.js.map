{"version":3,"file":"vue-render-plugin.min.js","sources":["../src/mixin.js","../src/utils.js","../src/Socket.vue","../src/Socket.vue?vue&type=template&id=51f75f2c&lang.js","../src/Node.vue","../src/Node.vue?vue&type=template&id=f9277b0a&lang.js","../src/index.js"],"sourcesContent":["export default {\n    props: ['node', 'editor', 'bindSocket', 'bindControl'],\n    methods: {\n        inputs() {\n            return Array.from(this.node.inputs.values());\n        },\n        outputs() {\n            return Array.from(this.node.outputs.values());\n        },\n        controls() {\n            return Array.from(this.node.controls.values());\n        },\n        selected() {\n            return this.editor.selected.contains(this.node) ? 'selected' : '';\n        }\n    },\n    directives: {\n        socket: {\n            beforeMount(el, binding) {\n                binding.instance.bindSocket(el, binding.arg, binding.value);\n            },\n            updated(el, binding) {\n                binding.instance.bindSocket(el, binding.arg, binding.value);\n            }\n        },\n        control: {\n            beforeMount(el, binding) {\n                if (!binding.value) return;\n                binding.instance.bindControl(el, binding.value);\n            }\n        }\n    }\n};\n","export function kebab(str) {\n    const replace = s => s.toLowerCase().replace(/ /g, '-');\n\n    return Array.isArray(str) ? str.map(replace) : replace(str);\n}\n","<template>\n  <div class=\"socket\" :class=\"className\" :title=\"socket.name\"></div>\n</template>\n\n<script>\nimport { defineComponent, computed } from \"vue\";\nimport { kebab } from \"./utils\";\nexport default defineComponent({\n  props: [\"type\", \"socket\"],\n  setup(props) {\n    const className = computed(() => {\n      return kebab([props.type, props.socket.name]);\n    });\n    return {\n      className\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./vars\";\n\n.socket {\n  display: inline-block;\n  cursor: pointer;\n  border: 1px solid white;\n  border-radius: $socket-size/2.0;\n  width: $socket-size;\n  height: $socket-size;\n  margin: $socket-margin;\n  vertical-align: middle;\n  background: $socket-color;\n  z-index: 2;\n  box-sizing: border-box;\n  &:hover {\n    border-width: 4px;\n  }\n  &.multiple {\n    border-color: yellow;\n  }\n  &.output {\n    margin-right: - $socket-size / 2;\n  }\n  &.input {\n    margin-left: - $socket-size / 2;\n  }\n}\n</style>\n","<template>\n  <div class=\"socket\" :class=\"className\" :title=\"socket.name\"></div>\n</template>\n\n<script>\nimport { defineComponent, computed } from \"vue\";\nimport { kebab } from \"./utils\";\nexport default defineComponent({\n  props: [\"type\", \"socket\"],\n  setup(props) {\n    const className = computed(() => {\n      return kebab([props.type, props.socket.name]);\n    });\n    return {\n      className\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./vars\";\n\n.socket {\n  display: inline-block;\n  cursor: pointer;\n  border: 1px solid white;\n  border-radius: $socket-size/2.0;\n  width: $socket-size;\n  height: $socket-size;\n  margin: $socket-margin;\n  vertical-align: middle;\n  background: $socket-color;\n  z-index: 2;\n  box-sizing: border-box;\n  &:hover {\n    border-width: 4px;\n  }\n  &.multiple {\n    border-color: yellow;\n  }\n  &.output {\n    margin-right: - $socket-size / 2;\n  }\n  &.input {\n    margin-left: - $socket-size / 2;\n  }\n}\n</style>\n","<template>\n  <div class=\"node\" :class=\"className\">\n    <div class=\"title\">{{ node.name }}</div>\n    <!-- Outputs-->\n    <div class=\"output\" v-for=\"output in outputs()\" :key=\"output.key\">\n      <div class=\"output-title\">{{ output.name }}</div>\n      <Socket\n        v-socket:output=\"output\"\n        type=\"output\"\n        :socket=\"output.socket\"\n      ></Socket>\n    </div>\n    <!-- Controls-->\n    <div\n      class=\"control\"\n      v-for=\"control in controls()\"\n      :key=\"control.key\"\n      v-control=\"control\"\n    >\n    </div>\n    <!-- Inputs-->\n    <div class=\"input\" v-for=\"input in inputs()\" :key=\"input.key\">\n      <Socket\n        v-socket:input=\"input\"\n        type=\"input\"\n        :socket=\"input.socket\"\n      ></Socket>\n      <div class=\"input-title\" v-show=\"!input.showControl()\">\n        {{ input.name }}\n      </div>\n      <div\n        class=\"input-control\"\n        v-show=\"input.showControl()\"\n        v-control=\"input.control\"\n      ></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, computed } from \"vue\";\nimport Mixin from './mixin';\nimport Socket from \"./Socket.vue\";\nimport { kebab } from \"./utils\";\nexport default defineComponent({\n  name: \"node\",\n  components: {\n    Socket\n  },\n  mixins: [Mixin],\n  setup(props) {\n    const selected = () => {\n      return props.editor.selected.contains(props.node) ? \"selected\" : \"\";\n    };\n    const className = computed(() => {\n      return kebab([selected(), props.node.name]);\n    });\n\n    return { className };\n  }\n});\n</script>\n\n<style scoped lang=\"scss\">\n@import \"./vars\";\n\n.node {\n  background: $node-color;\n  border: 2px solid #4e58bf;\n  border-radius: 10px;\n  cursor: pointer;\n  min-width: $node-width;\n  height: auto;\n  padding-bottom: 6px;\n  box-sizing: content-box;\n  position: relative;\n  user-select: none;\n  &:hover {\n    background: lighten($node-color,4%);\n  }\n  &.selected {\n    background: $node-color-selected;\n    border-color: #e3c000;\n  }\n  .title {\n    color: white;\n    font-family: sans-serif;\n    font-size: 18px;\n    padding: 8px;\n  }\n  .output {\n    text-align: right;\n  }\n  .input {\n    text-align: left;\n  }\n  .input-title,.output-title {\n    vertical-align: middle;\n    color: white;\n    display: inline-block;\n    font-family: sans-serif;\n    font-size: 14px;\n    margin: $socket-margin;\n    line-height: $socket-size;\n  }\n  .input-control {\n    z-index: 1;\n    width: calc(100% - #{$socket-size + 2*$socket-margin});\n    vertical-align: middle;\n    display: inline-block;\n  }\n  .control {\n    padding: $socket-margin $socket-size/2 + $socket-margin;\n  }\n}\n</style>\n","<template>\n  <div class=\"node\" :class=\"className\">\n    <div class=\"title\">{{ node.name }}</div>\n    <!-- Outputs-->\n    <div class=\"output\" v-for=\"output in outputs()\" :key=\"output.key\">\n      <div class=\"output-title\">{{ output.name }}</div>\n      <Socket\n        v-socket:output=\"output\"\n        type=\"output\"\n        :socket=\"output.socket\"\n      ></Socket>\n    </div>\n    <!-- Controls-->\n    <div\n      class=\"control\"\n      v-for=\"control in controls()\"\n      :key=\"control.key\"\n      v-control=\"control\"\n    >\n    </div>\n    <!-- Inputs-->\n    <div class=\"input\" v-for=\"input in inputs()\" :key=\"input.key\">\n      <Socket\n        v-socket:input=\"input\"\n        type=\"input\"\n        :socket=\"input.socket\"\n      ></Socket>\n      <div class=\"input-title\" v-show=\"!input.showControl()\">\n        {{ input.name }}\n      </div>\n      <div\n        class=\"input-control\"\n        v-show=\"input.showControl()\"\n        v-control=\"input.control\"\n      ></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, computed } from \"vue\";\nimport Mixin from './mixin';\nimport Socket from \"./Socket.vue\";\nimport { kebab } from \"./utils\";\nexport default defineComponent({\n  name: \"node\",\n  components: {\n    Socket\n  },\n  mixins: [Mixin],\n  setup(props) {\n    const selected = () => {\n      return props.editor.selected.contains(props.node) ? \"selected\" : \"\";\n    };\n    const className = computed(() => {\n      return kebab([selected(), props.node.name]);\n    });\n\n    return { className };\n  }\n});\n</script>\n\n<style scoped lang=\"scss\">\n@import \"./vars\";\n\n.node {\n  background: $node-color;\n  border: 2px solid #4e58bf;\n  border-radius: 10px;\n  cursor: pointer;\n  min-width: $node-width;\n  height: auto;\n  padding-bottom: 6px;\n  box-sizing: content-box;\n  position: relative;\n  user-select: none;\n  &:hover {\n    background: lighten($node-color,4%);\n  }\n  &.selected {\n    background: $node-color-selected;\n    border-color: #e3c000;\n  }\n  .title {\n    color: white;\n    font-family: sans-serif;\n    font-size: 18px;\n    padding: 8px;\n  }\n  .output {\n    text-align: right;\n  }\n  .input {\n    text-align: left;\n  }\n  .input-title,.output-title {\n    vertical-align: middle;\n    color: white;\n    display: inline-block;\n    font-family: sans-serif;\n    font-size: 14px;\n    margin: $socket-margin;\n    line-height: $socket-size;\n  }\n  .input-control {\n    z-index: 1;\n    width: calc(100% - #{$socket-size + 2*$socket-margin});\n    vertical-align: middle;\n    display: inline-block;\n  }\n  .control {\n    padding: $socket-margin $socket-size/2 + $socket-margin;\n  }\n}\n</style>\n","import Node from './Node.vue';\nimport Socket from './Socket.vue';\nimport { createApp } from 'vue';\n\nfunction createVue(el, vueComponent, vueProps, options = {}, node) {\n    const app = createApp(vueComponent, vueProps);\n\n    node.vueContext = app.mount(el);\n    return app;\n}\n\nfunction createNode(\n    editor,\n    CommonVueComponent,\n    { el, node, component, bindSocket, bindControl },\n    options\n) {\n    const vueComponent = component.component || CommonVueComponent || Node;\n    const vueProps = {\n        ...component.props,\n        node,\n        editor,\n        bindSocket,\n        bindControl\n    };\n\n    return createVue(el, vueComponent, vueProps, options, node);\n}\n\nfunction createControl(editor, { el, control }, options) {\n    const vueComponent = control.component;\n    const vueProps = {\n        ...control.props,\n        getData: control.getData.bind(control),\n        putData: control.putData.bind(control)\n    };\n\n    return createVue(el, vueComponent, vueProps, options, control);\n}\n\nconst update = entity => {\n    return new Promise(res => {\n        if (!entity.vueContext) return res();\n\n        entity.vueContext.$forceUpdate();\n        entity.vueContext.$nextTick(res);\n    });\n};\n\nfunction install(editor, { component: CommonVueComponent, options }) {\n    editor.on(\n        'rendernode',\n        ({ el, node, component, bindSocket, bindControl }) => {\n            if (component.render && component.render !== 'vue') return;\n            node._vue = createNode(\n                editor,\n                CommonVueComponent,\n                { el, node, component, bindSocket, bindControl },\n                options\n            );\n            node.update = async () => await update(node);\n        }\n    );\n\n    editor.on('rendercontrol', ({ el, control }) => {\n        if (control.render && control.render !== 'vue') return;\n        control._vue = createControl(editor, { el, control }, options);\n        control.update = async () => await update(control);\n    });\n\n    editor.on('connectioncreated connectionremoved', connection => {\n        update(connection.output.node);\n        update(connection.input.node);\n    });\n\n    editor.on('nodeselected', () => {\n        editor.nodes.map(update);\n    });\n}\n\nexport default {\n    name: 'vue-render',\n    install,\n    Node,\n    Socket\n};\n"],"names":["props","methods","inputs","Array","from","node","values","outputs","controls","selected","editor","contains","directives","socket","beforeMount","el","binding","instance","bindSocket","arg","value","updated","control","bindControl","kebab","str","replace","s","toLowerCase","isArray","map","defineComponent","computed","_createBlock","Socket","_createVNode","_createCommentVNode","createVue","vueComponent","vueProps","app","createApp","vueContext","mount","createNode","CommonVueComponent","options","component","Node","createControl","getData","bind","putData","update","entity","Promise","res","$forceUpdate","$nextTick","install","on","render","_vue","connection","output","input","nodes","name"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,cAAe;EACXA,EAAAA,KAAK,EAAE,CAAC,MAAD,EAAS,QAAT,EAAmB,YAAnB,EAAiC,aAAjC,CADI;EAEXC,EAAAA,OAAO,EAAE;EACLC,IAAAA,MADK,oBACI;EACL,aAAOC,KAAK,CAACC,IAAN,CAAW,KAAKC,IAAL,CAAUH,MAAV,CAAiBI,MAAjB,EAAX,CAAP;EACH,KAHI;EAILC,IAAAA,OAJK,qBAIK;EACN,aAAOJ,KAAK,CAACC,IAAN,CAAW,KAAKC,IAAL,CAAUE,OAAV,CAAkBD,MAAlB,EAAX,CAAP;EACH,KANI;EAOLE,IAAAA,QAPK,sBAOM;EACP,aAAOL,KAAK,CAACC,IAAN,CAAW,KAAKC,IAAL,CAAUG,QAAV,CAAmBF,MAAnB,EAAX,CAAP;EACH,KATI;EAULG,IAAAA,QAVK,sBAUM;EACP,aAAO,KAAKC,MAAL,CAAYD,QAAZ,CAAqBE,QAArB,CAA8B,KAAKN,IAAnC,IAA2C,UAA3C,GAAwD,EAA/D;EACH;EAZI,GAFE;EAgBXO,EAAAA,UAAU,EAAE;EACRC,IAAAA,MAAM,EAAE;EACJC,MAAAA,WADI,uBACQC,EADR,EACYC,OADZ,EACqB;EACrBA,QAAAA,OAAO,CAACC,QAAR,CAAiBC,UAAjB,CAA4BH,EAA5B,EAAgCC,OAAO,CAACG,GAAxC,EAA6CH,OAAO,CAACI,KAArD;EACH,OAHG;EAIJC,MAAAA,OAJI,mBAIIN,EAJJ,EAIQC,OAJR,EAIiB;EACjBA,QAAAA,OAAO,CAACC,QAAR,CAAiBC,UAAjB,CAA4BH,EAA5B,EAAgCC,OAAO,CAACG,GAAxC,EAA6CH,OAAO,CAACI,KAArD;EACH;EANG,KADA;EASRE,IAAAA,OAAO,EAAE;EACLR,MAAAA,WADK,uBACOC,EADP,EACWC,OADX,EACoB;EACrB,YAAI,CAACA,OAAO,CAACI,KAAb,EAAoB;EACpBJ,QAAAA,OAAO,CAACC,QAAR,CAAiBM,WAAjB,CAA6BR,EAA7B,EAAiCC,OAAO,CAACI,KAAzC;EACH;EAJI;EATD;EAhBD,CAAf;;ECAO,SAASI,KAAT,CAAeC,GAAf,EAAoB;EACvB,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,CAAC;EAAA,WAAIA,CAAC,CAACC,WAAF,GAAgBF,OAAhB,CAAwB,IAAxB,EAA8B,GAA9B,CAAJ;EAAA,GAAjB;;EAEA,SAAOvB,KAAK,CAAC0B,OAAN,CAAcJ,GAAd,IAAqBA,GAAG,CAACK,GAAJ,CAAQJ,OAAR,CAArB,GAAwCA,OAAO,CAACD,GAAD,CAAtD;EACH;;ACGD,iBAAeM,mBAAe,CAAC;IAC7B,KAAK,EAAE,CAAC,MAAM,EAAE,QAAQ,CAAC;IACzB,KAAK,CAAC,KAAK,EAAE;MACX,MAAM,YAAYC,YAAQ,CAAC,MAAM;QAC/B,OAAO,KAAK,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;OAC9C,CAAC;MACF,OAAO;QACL;OACD;;EAEL,CAAC,CAAC;;;;;6BChBAC;MAAK,KAAK,GAAC,UAAiB,cAAS;MAAG,KAAK,EAAE,WAAM,CAAC,IAAI;;;;;;;;;;AC2C5D,eAAeF,mBAAe,CAAC;IAC7B,IAAI,EAAE,MAAM;IACZ,UAAU,EAAE;cACVG;KACD;IACD,MAAM,EAAE,CAAC,KAAK,CAAC;IACf,KAAK,CAAC,KAAK,EAAE;MACX,MAAM,WAAW,MAAM;QACrB,OAAO,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,IAAI,aAAa,EAAE;OACpE;MACD,MAAM,YAAYF,YAAQ,CAAC,MAAM;QAC/B,OAAO,KAAK,CAAC,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;OAC5C,CAAC;;MAEF,OAAO,EAAE,WAAW;;EAExB,CAAC,CAAC;;;;;uBC1DO,KAAK,EAAC,OAAO;uBAGX,KAAK,EAAC,cAAc;uBA0BvB,KAAK,EAAC;;;;;;;;6BA9BZC;MAAK,KAAK,GAAC,QAAe,cAAS;;MACjCE,uBAAA,gCAAsB,SAAI,CAAC;MAC3BC;4BACAH,mDAAqC,YAAO,KAAjB;iCAA3BA;UAAK,KAAK,EAAC;UAAsC,GAAG,EAAE,MAAM,CAAC,GAAG;;UAC9DE,uBAAA,gCAA6B,MAAM,CAAC;6BACpCA;YAEE,IAAI,EAAC;YACJ,MAAM,EAAE,MAAM,CAAC,MAAM;;gCAFL,MAAM,EAAd,QAAM;;;;MAKnBC;4BACAH,mDAEoB,aAAQ,KAAnB;oDAFTA;UACE,KAAK,EAAC;UAEL,GAAG,EAAE,OAAO,CAAC,GAAG;;+BACN,OAAO;;;MAGpBG;4BACAH,mDAAmC,WAAM,KAAf;iCAA1BA;UAAK,KAAK,EAAC;UAAmC,GAAG,EAAE,KAAK,CAAC,GAAG;;6BAC1DE;YAEE,IAAI,EAAC;YACJ,MAAM,EAAE,KAAK,CAAC,MAAM;;gCAFL,KAAK,EAAZ,OAAK;;6BAIhBA,yBAAK,KAAK,EAAC,qCACN,KAAK,CAAC;yBADuB,KAAK,CAAC,WAAW;;6BAGnDA,uBAAA;wBAEU,KAAK,CAAC,WAAW;iCACd,KAAK,CAAC,OAAO;;;;;;;;;;;;;EC7BhC,SAASE,SAAT,CAAmBtB,EAAnB,EAAuBuB,YAAvB,EAAqCC,QAArC,EAAmE;EAAA,MAANlC,IAAM;EAC/D,MAAMmC,GAAG,GAAGC,aAAS,CAACH,YAAD,EAAeC,QAAf,CAArB;EAEAlC,EAAAA,IAAI,CAACqC,UAAL,GAAkBF,GAAG,CAACG,KAAJ,CAAU5B,EAAV,CAAlB;EACA,SAAOyB,GAAP;EACH;;EAED,SAASI,UAAT,CACIlC,MADJ,EAEImC,kBAFJ,QAIIC,OAJJ,EAKE;EAAA,MAFI/B,EAEJ,QAFIA,EAEJ;EAAA,MAFQV,IAER,QAFQA,IAER;EAAA,MAFc0C,SAEd,QAFcA,SAEd;EAAA,MAFyB7B,UAEzB,QAFyBA,UAEzB;EAAA,MAFqCK,WAErC,QAFqCA,WAErC;EACE,MAAMe,YAAY,GAAGS,SAAS,CAACA,SAAV,IAAuBF,kBAAvB,IAA6CG,MAAlE;;EACA,MAAMT,QAAQ,qBACPQ,SAAS,CAAC/C,KADH;EAEVK,IAAAA,IAAI,EAAJA,IAFU;EAGVK,IAAAA,MAAM,EAANA,MAHU;EAIVQ,IAAAA,UAAU,EAAVA,UAJU;EAKVK,IAAAA,WAAW,EAAXA;EALU,IAAd;;EAQA,SAAOc,SAAS,CAACtB,EAAD,EAAKuB,YAAL,EAAmBC,QAAnB,EAA6BO,OAA7B,EAAsCzC,IAAtC,CAAhB;EACH;;EAED,SAAS4C,aAAT,CAAuBvC,MAAvB,SAAgDoC,OAAhD,EAAyD;EAAA,MAAxB/B,EAAwB,SAAxBA,EAAwB;EAAA,MAApBO,OAAoB,SAApBA,OAAoB;EACrD,MAAMgB,YAAY,GAAGhB,OAAO,CAACyB,SAA7B;;EACA,MAAMR,QAAQ,qBACPjB,OAAO,CAACtB,KADD;EAEVkD,IAAAA,OAAO,EAAE5B,OAAO,CAAC4B,OAAR,CAAgBC,IAAhB,CAAqB7B,OAArB,CAFC;EAGV8B,IAAAA,OAAO,EAAE9B,OAAO,CAAC8B,OAAR,CAAgBD,IAAhB,CAAqB7B,OAArB;EAHC,IAAd;;EAMA,SAAOe,SAAS,CAACtB,EAAD,EAAKuB,YAAL,EAAmBC,QAAnB,EAA6BO,OAA7B,EAAsCxB,OAAtC,CAAhB;EACH;;EAED,IAAM+B,MAAM,GAAG,SAATA,MAAS,CAAAC,MAAM,EAAI;EACrB,SAAO,IAAIC,OAAJ,CAAY,UAAAC,GAAG,EAAI;EACtB,QAAI,CAACF,MAAM,CAACZ,UAAZ,EAAwB,OAAOc,GAAG,EAAV;EAExBF,IAAAA,MAAM,CAACZ,UAAP,CAAkBe,YAAlB;EACAH,IAAAA,MAAM,CAACZ,UAAP,CAAkBgB,SAAlB,CAA4BF,GAA5B;EACH,GALM,CAAP;EAMH,CAPD;;EASA,SAASG,OAAT,CAAiBjD,MAAjB,SAAqE;EAAA,MAA/BmC,kBAA+B,SAA1CE,SAA0C;EAAA,MAAXD,OAAW,SAAXA,OAAW;EACjEpC,EAAAA,MAAM,CAACkD,EAAP,CACI,YADJ,EAEI,iBAAsD;EAAA,QAAnD7C,EAAmD,SAAnDA,EAAmD;EAAA,QAA/CV,IAA+C,SAA/CA,IAA+C;EAAA,QAAzC0C,SAAyC,SAAzCA,SAAyC;EAAA,QAA9B7B,UAA8B,SAA9BA,UAA8B;EAAA,QAAlBK,WAAkB,SAAlBA,WAAkB;EAClD,QAAIwB,SAAS,CAACc,MAAV,IAAoBd,SAAS,CAACc,MAAV,KAAqB,KAA7C,EAAoD;EACpDxD,IAAAA,IAAI,CAACyD,IAAL,GAAYlB,UAAU,CAClBlC,MADkB,EAElBmC,kBAFkB,EAGlB;EAAE9B,MAAAA,EAAE,EAAFA,EAAF;EAAMV,MAAAA,IAAI,EAAJA,IAAN;EAAY0C,MAAAA,SAAS,EAATA,SAAZ;EAAuB7B,MAAAA,UAAU,EAAVA,UAAvB;EAAmCK,MAAAA,WAAW,EAAXA;EAAnC,KAHkB,EAIlBuB,OAJkB,CAAtB;EAMAzC,IAAAA,IAAI,CAACgD,MAAL,wEAAc;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA,qBAAkBA,MAAM,CAAChD,IAAD,CAAxB;;EAAA;EAAA;;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA,KAAd;EACH,GAXL;EAcAK,EAAAA,MAAM,CAACkD,EAAP,CAAU,eAAV,EAA2B,iBAAqB;EAAA,QAAlB7C,EAAkB,SAAlBA,EAAkB;EAAA,QAAdO,OAAc,SAAdA,OAAc;EAC5C,QAAIA,OAAO,CAACuC,MAAR,IAAkBvC,OAAO,CAACuC,MAAR,KAAmB,KAAzC,EAAgD;EAChDvC,IAAAA,OAAO,CAACwC,IAAR,GAAeb,aAAa,CAACvC,MAAD,EAAS;EAAEK,MAAAA,EAAE,EAAFA,EAAF;EAAMO,MAAAA,OAAO,EAAPA;EAAN,KAAT,EAA0BwB,OAA1B,CAA5B;EACAxB,IAAAA,OAAO,CAAC+B,MAAR,wEAAiB;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA,qBAAkBA,MAAM,CAAC/B,OAAD,CAAxB;;EAAA;EAAA;;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA,KAAjB;EACH,GAJD;EAMAZ,EAAAA,MAAM,CAACkD,EAAP,CAAU,qCAAV,EAAiD,UAAAG,UAAU,EAAI;EAC3DV,IAAAA,MAAM,CAACU,UAAU,CAACC,MAAX,CAAkB3D,IAAnB,CAAN;EACAgD,IAAAA,MAAM,CAACU,UAAU,CAACE,KAAX,CAAiB5D,IAAlB,CAAN;EACH,GAHD;EAKAK,EAAAA,MAAM,CAACkD,EAAP,CAAU,cAAV,EAA0B,YAAM;EAC5BlD,IAAAA,MAAM,CAACwD,KAAP,CAAapC,GAAb,CAAiBuB,MAAjB;EACH,GAFD;EAGH;;AAED,cAAe;EACXc,EAAAA,IAAI,EAAE,YADK;EAEXR,EAAAA,OAAO,EAAPA,OAFW;EAGXX,EAAAA,IAAI,EAAJA,MAHW;EAIXd,EAAAA,MAAM,EAANA;EAJW,CAAf;;;;;;;;;;"}