{"version":3,"file":"vue-render-plugin.esm.js","sources":["../src/mixin.js","../src/utils.js","../src/Socket.vue","../src/Socket.vue?vue&type=template&id=51f75f2c&lang.js","../src/Node.vue","../src/Node.vue?vue&type=template&id=f9277b0a&lang.js","../src/index.js"],"sourcesContent":["export default {\n    props: ['node', 'editor', 'bindSocket', 'bindControl'],\n    methods: {\n        inputs() {\n            return Array.from(this.node.inputs.values());\n        },\n        outputs() {\n            return Array.from(this.node.outputs.values());\n        },\n        controls() {\n            return Array.from(this.node.controls.values());\n        },\n        selected() {\n            return this.editor.selected.contains(this.node) ? 'selected' : '';\n        }\n    },\n    directives: {\n        socket: {\n            beforeMount(el, binding) {\n                binding.instance.bindSocket(el, binding.arg, binding.value);\n            },\n            updated(el, binding) {\n                binding.instance.bindSocket(el, binding.arg, binding.value);\n            }\n        },\n        control: {\n            beforeMount(el, binding) {\n                if (!binding.value) return;\n                binding.instance.bindControl(el, binding.value);\n            }\n        }\n    }\n};\n","export function kebab(str) {\n    const replace = s => s.toLowerCase().replace(/ /g, '-');\n\n    return Array.isArray(str) ? str.map(replace) : replace(str);\n}\n","<template>\n  <div class=\"socket\" :class=\"className\" :title=\"socket.name\"></div>\n</template>\n\n<script>\nimport { defineComponent, computed } from \"vue\";\nimport { kebab } from \"./utils\";\nexport default defineComponent({\n  props: [\"type\", \"socket\"],\n  setup(props) {\n    const className = computed(() => {\n      return kebab([props.type, props.socket.name]);\n    });\n    return {\n      className\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./vars\";\n\n.socket {\n  display: inline-block;\n  cursor: pointer;\n  border: 1px solid white;\n  border-radius: $socket-size/2.0;\n  width: $socket-size;\n  height: $socket-size;\n  margin: $socket-margin;\n  vertical-align: middle;\n  background: $socket-color;\n  z-index: 2;\n  box-sizing: border-box;\n  &:hover {\n    border-width: 4px;\n  }\n  &.multiple {\n    border-color: yellow;\n  }\n  &.output {\n    margin-right: - $socket-size / 2;\n  }\n  &.input {\n    margin-left: - $socket-size / 2;\n  }\n}\n</style>\n","<template>\n  <div class=\"socket\" :class=\"className\" :title=\"socket.name\"></div>\n</template>\n\n<script>\nimport { defineComponent, computed } from \"vue\";\nimport { kebab } from \"./utils\";\nexport default defineComponent({\n  props: [\"type\", \"socket\"],\n  setup(props) {\n    const className = computed(() => {\n      return kebab([props.type, props.socket.name]);\n    });\n    return {\n      className\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./vars\";\n\n.socket {\n  display: inline-block;\n  cursor: pointer;\n  border: 1px solid white;\n  border-radius: $socket-size/2.0;\n  width: $socket-size;\n  height: $socket-size;\n  margin: $socket-margin;\n  vertical-align: middle;\n  background: $socket-color;\n  z-index: 2;\n  box-sizing: border-box;\n  &:hover {\n    border-width: 4px;\n  }\n  &.multiple {\n    border-color: yellow;\n  }\n  &.output {\n    margin-right: - $socket-size / 2;\n  }\n  &.input {\n    margin-left: - $socket-size / 2;\n  }\n}\n</style>\n","<template>\n  <div class=\"node\" :class=\"className\">\n    <div class=\"title\">{{ node.name }}</div>\n    <!-- Outputs-->\n    <div class=\"output\" v-for=\"output in outputs()\" :key=\"output.key\">\n      <div class=\"output-title\">{{ output.name }}</div>\n      <Socket\n        v-socket:output=\"output\"\n        type=\"output\"\n        :socket=\"output.socket\"\n      ></Socket>\n    </div>\n    <!-- Controls-->\n    <div\n      class=\"control\"\n      v-for=\"control in controls()\"\n      :key=\"control.key\"\n      v-control=\"control\"\n    >\n    </div>\n    <!-- Inputs-->\n    <div class=\"input\" v-for=\"input in inputs()\" :key=\"input.key\">\n      <Socket\n        v-socket:input=\"input\"\n        type=\"input\"\n        :socket=\"input.socket\"\n      ></Socket>\n      <div class=\"input-title\" v-show=\"!input.showControl()\">\n        {{ input.name }}\n      </div>\n      <div\n        class=\"input-control\"\n        v-show=\"input.showControl()\"\n        v-control=\"input.control\"\n      ></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, computed } from \"vue\";\nimport Mixin from './mixin';\nimport Socket from \"./Socket.vue\";\nimport { kebab } from \"./utils\";\nexport default defineComponent({\n  name: \"node\",\n  components: {\n    Socket\n  },\n  mixins: [Mixin],\n  setup(props) {\n    const selected = () => {\n      return props.editor.selected.contains(props.node) ? \"selected\" : \"\";\n    };\n    const className = computed(() => {\n      return kebab([selected(), props.node.name]);\n    });\n\n    return { className };\n  }\n});\n</script>\n\n<style scoped lang=\"scss\">\n@import \"./vars\";\n\n.node {\n  background: $node-color;\n  border: 2px solid #4e58bf;\n  border-radius: 10px;\n  cursor: pointer;\n  min-width: $node-width;\n  height: auto;\n  padding-bottom: 6px;\n  box-sizing: content-box;\n  position: relative;\n  user-select: none;\n  &:hover {\n    background: lighten($node-color,4%);\n  }\n  &.selected {\n    background: $node-color-selected;\n    border-color: #e3c000;\n  }\n  .title {\n    color: white;\n    font-family: sans-serif;\n    font-size: 18px;\n    padding: 8px;\n  }\n  .output {\n    text-align: right;\n  }\n  .input {\n    text-align: left;\n  }\n  .input-title,.output-title {\n    vertical-align: middle;\n    color: white;\n    display: inline-block;\n    font-family: sans-serif;\n    font-size: 14px;\n    margin: $socket-margin;\n    line-height: $socket-size;\n  }\n  .input-control {\n    z-index: 1;\n    width: calc(100% - #{$socket-size + 2*$socket-margin});\n    vertical-align: middle;\n    display: inline-block;\n  }\n  .control {\n    padding: $socket-margin $socket-size/2 + $socket-margin;\n  }\n}\n</style>\n","<template>\n  <div class=\"node\" :class=\"className\">\n    <div class=\"title\">{{ node.name }}</div>\n    <!-- Outputs-->\n    <div class=\"output\" v-for=\"output in outputs()\" :key=\"output.key\">\n      <div class=\"output-title\">{{ output.name }}</div>\n      <Socket\n        v-socket:output=\"output\"\n        type=\"output\"\n        :socket=\"output.socket\"\n      ></Socket>\n    </div>\n    <!-- Controls-->\n    <div\n      class=\"control\"\n      v-for=\"control in controls()\"\n      :key=\"control.key\"\n      v-control=\"control\"\n    >\n    </div>\n    <!-- Inputs-->\n    <div class=\"input\" v-for=\"input in inputs()\" :key=\"input.key\">\n      <Socket\n        v-socket:input=\"input\"\n        type=\"input\"\n        :socket=\"input.socket\"\n      ></Socket>\n      <div class=\"input-title\" v-show=\"!input.showControl()\">\n        {{ input.name }}\n      </div>\n      <div\n        class=\"input-control\"\n        v-show=\"input.showControl()\"\n        v-control=\"input.control\"\n      ></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, computed } from \"vue\";\nimport Mixin from './mixin';\nimport Socket from \"./Socket.vue\";\nimport { kebab } from \"./utils\";\nexport default defineComponent({\n  name: \"node\",\n  components: {\n    Socket\n  },\n  mixins: [Mixin],\n  setup(props) {\n    const selected = () => {\n      return props.editor.selected.contains(props.node) ? \"selected\" : \"\";\n    };\n    const className = computed(() => {\n      return kebab([selected(), props.node.name]);\n    });\n\n    return { className };\n  }\n});\n</script>\n\n<style scoped lang=\"scss\">\n@import \"./vars\";\n\n.node {\n  background: $node-color;\n  border: 2px solid #4e58bf;\n  border-radius: 10px;\n  cursor: pointer;\n  min-width: $node-width;\n  height: auto;\n  padding-bottom: 6px;\n  box-sizing: content-box;\n  position: relative;\n  user-select: none;\n  &:hover {\n    background: lighten($node-color,4%);\n  }\n  &.selected {\n    background: $node-color-selected;\n    border-color: #e3c000;\n  }\n  .title {\n    color: white;\n    font-family: sans-serif;\n    font-size: 18px;\n    padding: 8px;\n  }\n  .output {\n    text-align: right;\n  }\n  .input {\n    text-align: left;\n  }\n  .input-title,.output-title {\n    vertical-align: middle;\n    color: white;\n    display: inline-block;\n    font-family: sans-serif;\n    font-size: 14px;\n    margin: $socket-margin;\n    line-height: $socket-size;\n  }\n  .input-control {\n    z-index: 1;\n    width: calc(100% - #{$socket-size + 2*$socket-margin});\n    vertical-align: middle;\n    display: inline-block;\n  }\n  .control {\n    padding: $socket-margin $socket-size/2 + $socket-margin;\n  }\n}\n</style>\n","import Node from './Node.vue';\nimport Socket from './Socket.vue';\nimport { createApp } from 'vue';\n\nfunction createVue(el, vueComponent, vueProps, options = {}, node) {\n    const app = createApp(vueComponent, vueProps);\n\n    node.vueContext = app.mount(el);\n    return app;\n}\n\nfunction createNode(\n    editor,\n    CommonVueComponent,\n    { el, node, component, bindSocket, bindControl },\n    options\n) {\n    const vueComponent = component.component || CommonVueComponent || Node;\n    const vueProps = {\n        ...component.props,\n        node,\n        editor,\n        bindSocket,\n        bindControl\n    };\n\n    return createVue(el, vueComponent, vueProps, options, node);\n}\n\nfunction createControl(editor, { el, control }, options) {\n    const vueComponent = control.component;\n    const vueProps = {\n        ...control.props,\n        getData: control.getData.bind(control),\n        putData: control.putData.bind(control)\n    };\n\n    return createVue(el, vueComponent, vueProps, options, control);\n}\n\nconst update = entity => {\n    return new Promise(res => {\n        if (!entity.vueContext) return res();\n\n        entity.vueContext.$forceUpdate();\n        entity.vueContext.$nextTick(res);\n    });\n};\n\nfunction install(editor, { component: CommonVueComponent, options }) {\n    editor.on(\n        'rendernode',\n        ({ el, node, component, bindSocket, bindControl }) => {\n            if (component.render && component.render !== 'vue') return;\n            node._vue = createNode(\n                editor,\n                CommonVueComponent,\n                { el, node, component, bindSocket, bindControl },\n                options\n            );\n            node.update = async () => await update(node);\n        }\n    );\n\n    editor.on('rendercontrol', ({ el, control }) => {\n        if (control.render && control.render !== 'vue') return;\n        control._vue = createControl(editor, { el, control }, options);\n        control.update = async () => await update(control);\n    });\n\n    editor.on('connectioncreated connectionremoved', connection => {\n        update(connection.output.node);\n        update(connection.input.node);\n    });\n\n    editor.on('nodeselected', () => {\n        editor.nodes.map(update);\n    });\n}\n\nexport default {\n    name: 'vue-render',\n    install,\n    Node,\n    Socket\n};\n"],"names":["props","methods","inputs","Array","from","node","values","outputs","controls","selected","editor","contains","directives","socket","beforeMount","el","binding","instance","bindSocket","arg","value","updated","control","bindControl","kebab","str","replace","s","toLowerCase","isArray","map","_createBlock","Socket","_createVNode","_createCommentVNode","createVue","vueComponent","vueProps","app","createApp","vueContext","mount","createNode","CommonVueComponent","options","component","Node","createControl","getData","bind","putData","update","entity","Promise","res","$forceUpdate","$nextTick","install","on","render","_vue","connection","output","input","nodes","name"],"mappings":"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"}